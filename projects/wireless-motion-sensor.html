<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Jesung Park</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Personal website of Jesung Park">
  <meta name="author" content="Jesung Park">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZNQ01YG9MY"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-ZNQ01YG9MY');
  </script>

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WHH4ZFP');</script>
  <!-- End Google Tag Manager -->

  <!--CSS-->
  <link rel="stylesheet" href="../assets/css/w3.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
  <link rel="stylesheet" href="../assets/css/all.css">
  <link rel="stylesheet" href="../assets/css/main.css">
  <style>
    body,h1,h2,h3,h4,h5,h6 {font-family: "Raleway", sans-serif}
  </style>

  <link rel="shortcut icon" type="image/ico" href="../assets/ico/j-icon.ico">
  <link rel="icon" type="image/x-icon" href="../assets/ico/j-icon.ico">
</head>

<body class="w3-light-grey w3-content Site" style="max-width:1600px">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WHH4ZFP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!-- Sidebar/menu -->
  <nav class="w3-sidebar w3-collapse w3-white w3-animate-left" style="z-index:3;width:300px;" id="mySidebar"><br>
    <div class="w3-container">
      <a href="#" onclick="w3_close()" class="w3-hide-large w3-right w3-jumbo w3-padding w3-hover-grey" title="close menu">
        <i class="fa fa-remove"></i>
      </a>
      <img src="../assets/img/about/chump.jpg" style="width:95%;" class="w3-round"><br><br>
      <h4><b>Jesung Park</b></h4>
      <p class="w3-text-grey">A collection of random projects and musings</p>
    </div>
    <div class="w3-bar-block">
      <a href="../about.html" onclick="w3_close()" class="w3-bar-item w3-button w3-padding"><i class="fa fa-user fa-fw w3-margin-right"></i>ABOUT</a>
      <a href="../index.html" onclick="w3_close()" class="w3-bar-item w3-button w3-padding"><i class="fab fa-microblog fa-fw w3-margin-right"></i>BLOG</a>
      <a href="../projects.html" onclick="w3_close()" class="w3-bar-item w3-button w3-padding w3-text-teal"><i class="fa fa-th-large fa-fw w3-margin-right"></i>PROJECTS</a>
    </div>
    <div class="w3-panel w3-large">
      <a href="https://www.linkedin.com/in/jesungpark/" target="_blank"><i class="fab fa-linkedin fa-fw fa-2x w3-hover-opacity"></i></a>
      <a href="https://github.com/jesung" target="_blank"><i class="fab fa-github fa-fw fa-2x w3-hover-opacity"></i></a>
    </div>
  </nav>

  <!-- Overlay effect when opening sidebar on small screens -->
  <div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

  <!-- !PAGE CONTENT! -->
  <div class="w3-main Site-content" style="margin-left:300px">

        <!-- Header -->
        <header id="portfolio">
          <a href="#"><img src="../assets/img/about/chump.jpg" style="width:65px;" class="w3-circle w3-right w3-margin w3-hide-large w3-hover-opacity"></a>
          <span class="w3-button w3-hide-large w3-xxlarge w3-hover-text-grey" onclick="w3_open()"><i class="fa fa-bars"></i></span>
          <div class="w3-container">
            <br>
            <h1><b>Wireless Motion Sensor</b></h1>

            <div class="w3-section w3-bottombar w3-padding-4">
              <!--<span class="w3-margin-right">Filter:</span>
              <button class="w3-button w3-black">ALL</button>
              <button class="w3-button w3-white"><i class="fa fa-diamond w3-margin-right"></i>Design</button>
              <button class="w3-button w3-white w3-hide-small"><i class="fa fa-photo w3-margin-right"></i>Photos</button>
              <button class="w3-button w3-white w3-hide-small"><i class="fa fa-map-pin w3-margin-right"></i>Art</button>
              -->
            </div>
          </div>
        </header>

        <!-- Article body-->
        <article class="w3-row-padding">
          <div class="clearfix">
          </div>
          <div class="w3-row-padding w3-padding-16">
            <div class="w3-col m6 w3-container w3-margin-bottom">
              <p>
                As with many smart home ideas, I started with a problem. If I come home late at night and my hands are full (e.g., groceries), it can be tedious to try to turn on the light. Given that I already had a LIFX smart bulb, I looked for LIFX libraries and found <a href="https://github.com/lgruen/lifx-switch-esp32">lifx-switch-esp32</a>. Having found something plausible, I ordered a PIR sensor and a plastic container from Aliexpress and then waited. Patiently.
              </p>
              <p>
                A passive infrared (PIR) sensor detects general movement in its range by measuring ambient infrared light radiation. It is commonly seen in motion detectors. Of course, I could have just bought a <a href="https://www.ikea.com/ca/en/p/tradfri-wireless-motion-sensor-white-60377655/">wireless motion sensor</a> for virtually the same cost but what's the fun in that? In fact, looking through the current offering of smart home devices such as door sensors gave me some interesting project ideas.
              </p>
              <p>
                The components used and source code can be found on <a href="https://github.com/jesung/esp32-lifx-switch" target="_blank">my Github</a>.
              </p>
            </div>
            <div class="w3-col m6 w3-container w3-margin-bottom">
            <!---->
              <img src="../assets/img/portfolio/wireless-pir-prototype.png" alt="" style="width:100%"/>
            </div>
          </div>

          <div class="blank10"></div>

          <!-- Prototype -->
          <div class="span12">
            <h4>The Build</h4>
          </div>
          <div class="w3-row-padding w3-padding-16">
            <div class="w3-col m6 w3-container w3-margin-bottom">
            <!---->
              <img src="../assets/img/portfolio/wireless-pir-final.png" alt="" style="width:100%"/>
            </div>
            <div class="w3-col m6 w3-container w3-margin-bottom">
              <p>
                I originally had a LED light connected to the output to check everything is working as intended. Afterwards, it was a pretty straightforward conversion to have the PIR sensor connect back to the ESP32 as an input. I had to connect the LED (-) to any pin and set it as input.
              </p>
              <p>
                The bulk of my time was spent on rewriting the code from the <a href="https://github.com/lgruen/lifx-switch-esp32">lifx-switch-esp32</a> repository to be compilable on the Arduino IDE and some simplification & clean-up.
              </p>
              <p>
                The case fit the components just fine but it turns out that using a drill on plastic is not the best idea. A dremel would definitely be cleaner.
              </p>
              <p>
                The default 35 second on-time of the PIR sensor worked well for my purposes so I chose not to do any additional coding. In the future, I could look to implement logic <a href="https://randomnerdtutorials.com/esp32-date-time-ntp-client-server-arduino/">based on time of day</a> to control power or light intensity.
              </p>
            </div>


          </div>
          <div class="w3-full w3-container video-container w3-margin-bottom">
              <iframe width="560" height="315" src="https://www.youtube.com/embed/-aw7zcizSMg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
          </div>


          <div class="blank10"></div>

          <!-- Schematic -->
          <div class="span12">
            <h4>Schematic</h4>
          </div>
          <div class="w3-container w3-margin-bottom">
            <img src="https://github.com/jesung/esp32-lifx-switch/blob/main/esp32-lifx_bb.jpg?raw=true" alt="" style="width:75%"/>
          </div>
          <div class="blank10"></div>

        </article>
  </div>

  <!-- Footer -->
  <footer>
    <div class="w3-black w3-center w3-padding-24">
      <a href="https://www.linkedin.com/in/jesungpark/" target="_blank"><i class="fab fa-linkedin fa-fw fa-2x w3-hover-opacity"></i></a>
      <a href="https://github.com/jesung" target="_blank"><i class="fab fa-github fa-fw fa-2x w3-hover-opacity"></i></a>
    </div>
  </footer>
  <!-- End page content -->


  <script>
  // Script to open and close sidebar
  function w3_open() {
    document.getElementById("mySidebar").style.display = "block";
    document.getElementById("myOverlay").style.display = "block";
  }

  function w3_close() {
    document.getElementById("mySidebar").style.display = "none";
    document.getElementById("myOverlay").style.display = "none";
  }
</script>

</body>
</html>
