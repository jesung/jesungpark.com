<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Jesung Park</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Personal website of Jesung Park">
  <meta name="author" content="Jesung Park">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZNQ01YG9MY"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-ZNQ01YG9MY');
  </script>

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WHH4ZFP');</script>
  <!-- End Google Tag Manager -->

  <!--CSS-->
  <link rel="stylesheet" href="../assets/css/w3.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
  <link rel="stylesheet" href="../assets/css/all.css">
  <link rel="stylesheet" href="../assets/css/main.css">
  <style>
    body,h1,h2,h3,h4,h5,h6 {font-family: "Raleway", sans-serif}
  </style>

  <link rel="shortcut icon" type="image/ico" href="../assets/ico/j-icon.ico">
  <link rel="icon" type="image/x-icon" href="../assets/ico/j-icon.ico">
</head>

<body class="w3-light-grey w3-content Site" style="max-width:1600px">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WHH4ZFP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!-- Sidebar/menu -->
  <nav class="w3-sidebar w3-collapse w3-white w3-animate-left" style="z-index:3;width:300px;" id="mySidebar"><br>
    <div class="w3-container">
      <a href="#" onclick="w3_close()" class="w3-hide-large w3-right w3-jumbo w3-padding w3-hover-grey" title="close menu">
        <i class="fa fa-remove"></i>
      </a>
      <img src="../assets/img/about/chump.jpg" style="width:95%;" class="w3-round"><br><br>
      <h4><b>Jesung Park</b></h4>
      <p class="w3-text-grey">A collection of random projects and musings</p>
    </div>
    <div class="w3-bar-block">
      <a href="../about.html" onclick="w3_close()" class="w3-bar-item w3-button w3-padding"><i class="fa fa-user fa-fw w3-margin-right"></i>ABOUT</a>
      <a href="../index.html" onclick="w3_close()" class="w3-bar-item w3-button w3-padding"><i class="fab fa-microblog fa-fw w3-margin-right"></i>BLOG</a>
      <a href="../projects.html" onclick="w3_close()" class="w3-bar-item w3-button w3-padding w3-text-teal"><i class="fa fa-th-large fa-fw w3-margin-right"></i>PROJECTS</a>
    </div>
    <div class="w3-panel w3-large">
      <a href="https://www.linkedin.com/in/jesungpark/" target="_blank"><i class="fab fa-linkedin fa-fw fa-2x w3-hover-opacity"></i></a>
      <a href="https://github.com/jesung" target="_blank"><i class="fab fa-github fa-fw fa-2x w3-hover-opacity"></i></a>
    </div>
  </nav>

  <!-- Overlay effect when opening sidebar on small screens -->
  <div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

  <!-- !PAGE CONTENT! -->
  <div class="w3-main Site-content" style="margin-left:300px">

        <!-- Header -->
        <header id="portfolio">
          <a href="#"><img src="../assets/img/about/chump.jpg" style="width:65px;" class="w3-circle w3-right w3-margin w3-hide-large w3-hover-opacity"></a>
          <span class="w3-button w3-hide-large w3-xxlarge w3-hover-text-grey" onclick="w3_open()"><i class="fa fa-bars"></i></span>
          <div class="w3-container">
            <br>
            <h1><b>Longitudinal and Lateral Controller on a Simulated Track Environment</b></h1>

            <div class="w3-section w3-bottombar w3-padding-4">
              <!--<span class="w3-margin-right">Filter:</span>
              <button class="w3-button w3-black">ALL</button>
              <button class="w3-button w3-white"><i class="fa fa-diamond w3-margin-right"></i>Design</button>
              <button class="w3-button w3-white w3-hide-small"><i class="fa fa-photo w3-margin-right"></i>Photos</button>
              <button class="w3-button w3-white w3-hide-small"><i class="fa fa-map-pin w3-margin-right"></i>Art</button>
              -->
            </div>
          </div>
        </header>

        <!-- Article body-->
        <article class="w3-row-padding">
          <div class="clearfix">
          </div>
          <!-- explanation -->
          <div class="video-container w3-container w3-margin-bottom">
            <!---->
            <iframe width="560" height="315" src="https://www.youtube.com/embed/dLzMbo29dcg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
          </div>
          <div class="w3-full w3-container w3-margin-bottom">

              <p>
                This was the final project for the first course of the self driving car specialization on Coursera – <a href="https://www.coursera.org/learn/intro-self-driving-cars" target="_blank">Introduction to Self-Driving Cars</a>. The goal was to implement a lateral and longitudinal controller for a car on a race track given a set of target waypoints and some basic information such as vehicle position, yaw, and speed. More advanced concepts like state estimation, localization, visual perception, and motion planning will be covered in the following courses.
              </p>
              <p>
                My longitudinal controller is a rudimentary implementation of a <a href="https://en.wikipedia.org/wiki/PID_controller" target="_blank">PID controller</a>. Unfortunately, I know very little about PID controllers and the course videos didn’t give any examples of how the tuning process worked. So, I relied on my Google-fu and adjusted the parameters through trial and error. In the end, even if the throttle inputs were not as smooth as a human driver might have been, the longitudinal controller was sufficient in keeping the vehicle close to the desired velocity.
              </p>
              <p>
                For my lateral controller, I implemented the <a href="https://www.ri.cmu.edu/pub_files/2009/2/Automatic_Steering_Methods_for_Autonomous_Automobile_Path_Tracking.pdf" target="_blank">Stanley controller</a> which was a method used by the aptly named Stanley – Stanford University's autonomous vehicle that won the <a href="https://en.wikipedia.org/wiki/DARPA_Grand_Challenge_(2005)" target="_blank">2005 DARPA Grand Challenge</a>. This was a good chance to polish my rusty trigonometry skills and had me drawing diagrams to visualize the correct angles and headings. Surprisingly, the algorithm worked well enough without the crosstrack error adjustment. I suspect there is no rush to fix crosstrack error on a relatively open environment like a race track.
              </p>
          </div>
          <div class="blank10"></div>
          <!-- simulation -->
          <div class="span12">
            <h4>Simulation</h4>
          </div>
            <div class="w3-half w3-container w3-margin-bottom">
              <p>
                The simulation was run on <a href="http://carla.org/" target="_blank">CARLA</a>, the open-source simulator for autonomous driving research. A script was provided by the course staff that takes care of all the components required besides the longitudinal and lateral controllers. Once running, the script will access the CARLA environment and start receiving state information and sending steering, throttle, and brake commands in return.
              </p>
              <p>
                Below are the resulting speed as well as the throttle, brake, and steering inputs for the car. Initially, I had a lot of trouble setting up a proper longitudinal controller so I set a static value for the throttle and worked on the lateral controller. Although there was a lot of derivations required to implement the Stanley controller, the individual steps were not too difficult. Once the edge cases were addressed and the vehicle was steering correctly, I implemented the PID controller for longitudinal control. One surprising observation was that even though the PID controller was programmed to brake if necessary, the brakes were not used at all. In fact, the throttle value stayed above 0.5 once it got up to speed. To the right, you can see the 2D map of the track. The actual vehicle trajectory tracks the reference line provided by the waypoints quite well. In my final solution, I was able to complete 100% of the waypoints evaluated by the grader.
              </p>
            </div>
            <div class="w3-half w3-padding-16">
              <div class="w3-col">
                <img src="../assets/img/portfolio/forward_speed.png" alt=""/>
                <img src="../assets/img/portfolio/throttle_output.png" alt="" />
                <img src="../assets/img/portfolio/brake_output.png" alt="" />
                <img src="../assets/img/portfolio/steer_output.png" alt="" />
              </div>
            </div>
          <div class="w3-container w3-margin-bottom">
            <img src="../assets/img/portfolio/trajectory.png" alt="" style="width:75%"/>
          </div>
          <div class="blank10"></div>
          <!-- results -->
          <div class="span12">
            <h4>Grader Output</h4>
          </div>
          <div class="w3-row-padding w3-padding-16">
            <div class="w3-col m6">
              <img src="../assets/img/portfolio/AV_Figure_1.png" alt="" style="width:100%"/>
            </div>

            <div class="w3-col m6">
              <img src="../assets/img/portfolio/AV_Figure_2.png" alt="" style="width:100%"/>
            </div>
          </div>
          <div class="row">
            <p>
              <i>Assessment passed!, 100.00% of waypoints completed.</i>
            </p>
          </div>
        </article>
  </div>

  <!-- Footer -->
  <footer>
    <div class="w3-black w3-center w3-padding-24">
      <a href="https://www.linkedin.com/in/jesungpark/" target="_blank"><i class="fab fa-linkedin fa-fw fa-2x w3-hover-opacity"></i></a>
      <a href="https://github.com/jesung" target="_blank"><i class="fab fa-github fa-fw fa-2x w3-hover-opacity"></i></a>
    </div>
  </footer>
  <!-- End page content -->


  <script>
  // Script to open and close sidebar
  function w3_open() {
    document.getElementById("mySidebar").style.display = "block";
    document.getElementById("myOverlay").style.display = "block";
  }

  function w3_close() {
    document.getElementById("mySidebar").style.display = "none";
    document.getElementById("myOverlay").style.display = "none";
  }
</script>

</body>
</html>
